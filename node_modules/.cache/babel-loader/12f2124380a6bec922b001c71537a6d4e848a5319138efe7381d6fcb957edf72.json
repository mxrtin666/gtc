{"ast":null,"code":"const CURRENT_USER_STORAGE_KEY = 'gtc_current_user';\nexport function getCurrentUser() {\n  try {\n    const raw = localStorage.getItem(CURRENT_USER_STORAGE_KEY);\n    if (!raw) {\n      return null;\n    }\n    return JSON.parse(raw);\n  } catch (error) {\n    console.error('Failed to read current user from localStorage', error);\n    return null;\n  }\n}\nexport function isLoggedIn() {\n  return Boolean(getCurrentUser());\n}\nexport function setCurrentUser(user) {\n  localStorage.setItem(CURRENT_USER_STORAGE_KEY, JSON.stringify(user));\n  window.dispatchEvent(new Event('gtc-auth-changed'));\n}\nexport function clearCurrentUser() {\n  localStorage.removeItem(CURRENT_USER_STORAGE_KEY);\n  window.dispatchEvent(new Event('gtc-auth-changed'));\n}","map":{"version":3,"names":["CURRENT_USER_STORAGE_KEY","getCurrentUser","raw","localStorage","getItem","JSON","parse","error","console","isLoggedIn","Boolean","setCurrentUser","user","setItem","stringify","window","dispatchEvent","Event","clearCurrentUser","removeItem"],"sources":["/Users/mxrtin/Documents/gtc/src/services/auth.js"],"sourcesContent":["const CURRENT_USER_STORAGE_KEY = 'gtc_current_user';\n\nexport function getCurrentUser() {\n  try {\n    const raw = localStorage.getItem(CURRENT_USER_STORAGE_KEY);\n    if (!raw) {\n      return null;\n    }\n    return JSON.parse(raw);\n  } catch (error) {\n    console.error('Failed to read current user from localStorage', error);\n    return null;\n  }\n}\n\nexport function isLoggedIn() {\n  return Boolean(getCurrentUser());\n}\n\nexport function setCurrentUser(user) {\n  localStorage.setItem(CURRENT_USER_STORAGE_KEY, JSON.stringify(user));\n  window.dispatchEvent(new Event('gtc-auth-changed'));\n}\n\nexport function clearCurrentUser() {\n  localStorage.removeItem(CURRENT_USER_STORAGE_KEY);\n  window.dispatchEvent(new Event('gtc-auth-changed'));\n}\n"],"mappings":"AAAA,MAAMA,wBAAwB,GAAG,kBAAkB;AAEnD,OAAO,SAASC,cAAcA,CAAA,EAAG;EAC/B,IAAI;IACF,MAAMC,GAAG,GAAGC,YAAY,CAACC,OAAO,CAACJ,wBAAwB,CAAC;IAC1D,IAAI,CAACE,GAAG,EAAE;MACR,OAAO,IAAI;IACb;IACA,OAAOG,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC;EACxB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,+CAA+C,EAAEA,KAAK,CAAC;IACrE,OAAO,IAAI;EACb;AACF;AAEA,OAAO,SAASE,UAAUA,CAAA,EAAG;EAC3B,OAAOC,OAAO,CAACT,cAAc,CAAC,CAAC,CAAC;AAClC;AAEA,OAAO,SAASU,cAAcA,CAACC,IAAI,EAAE;EACnCT,YAAY,CAACU,OAAO,CAACb,wBAAwB,EAAEK,IAAI,CAACS,SAAS,CAACF,IAAI,CAAC,CAAC;EACpEG,MAAM,CAACC,aAAa,CAAC,IAAIC,KAAK,CAAC,kBAAkB,CAAC,CAAC;AACrD;AAEA,OAAO,SAASC,gBAAgBA,CAAA,EAAG;EACjCf,YAAY,CAACgB,UAAU,CAACnB,wBAAwB,CAAC;EACjDe,MAAM,CAACC,aAAa,CAAC,IAAIC,KAAK,CAAC,kBAAkB,CAAC,CAAC;AACrD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}